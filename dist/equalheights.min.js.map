{"version":3,"sources":["webpack://equalheights/webpack/universalModuleDefinition","webpack://equalheights/webpack/bootstrap","webpack://equalheights/./node_modules/component-props/index.js","webpack://equalheights/./node_modules/debounce/index.js","webpack://equalheights/./node_modules/to-function/index.js","webpack://equalheights/./node_modules/group-by/index.js","webpack://equalheights/./node_modules/offset/index.js","webpack://equalheights/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","globals","str","fn","arr","ret","length","indexOf","push","unique","replace","match","props","_","prefixed","map","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","apply","debounced","this","arguments","callNow","clear","clearTimeout","flush","expr","e","toFunction","obj","toString","defaultToFunction","val","objectToFunction","test","Function","prop","stripNested","re","RegExp","$0","$1","el","getBoundingClientRect","x","y","offsetLeft","scrollLeft","offsetTop","scrollTop","offsetParent","left","top","EqualHeight","_ref","undefined","_ref$scope","scope","document","_ref$debounce","debounce","_ref$suppressWarnings","suppressWarnings","_classCallCheck","settings","warnUser","detectSupport","update","bindEvents","console","warn","IMAGES_LOADED_PLUGIN_ENABLED","imagesLoaded","_this","_ref2$reset","reset","Array","from","querySelectorAll","forEach","item","style","height","rows","getRows","groupedRowItems","row","filter","rowItem","element","getGroups","rowItems","setHeight","on","items","_this2","maxHeight","Math","max","_toConsumableArray","offsetHeight","lastElementChild","lastChildBottomMargin","parseInt","getComputedStyle","marginBottom","hasCollapsingMargins","checkIfCollapsingMargins","_offset2","default","bottom","concat","Set","dataset","equalHeight","_Array$prototype","groupName","querySelector","values","_groupBy2","_this3","onload","addEventListener","_debounce2"],"mappings":"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","file":"equalheights.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"equalheights\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"equalheights\"] = factory();\n\telse\n\t\troot[\"equalheights\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","/**\n * Global Names\n */\n\nvar globals = /\\b(Array|Date|Object|Math|JSON)\\b/g;\n\n/**\n * Return immediate identifiers parsed from `str`.\n *\n * @param {String} str\n * @param {String|Function} map function or prefix\n * @return {Array}\n * @api public\n */\n\nmodule.exports = function(str, fn){\n  var p = unique(props(str));\n  if (fn && 'string' == typeof fn) fn = prefixed(fn);\n  if (fn) return map(str, p, fn);\n  return p;\n};\n\n/**\n * Return immediate identifiers in `str`.\n *\n * @param {String} str\n * @return {Array}\n * @api private\n */\n\nfunction props(str) {\n  return str\n    .replace(/\\.\\w+|\\w+ *\\(|\"[^\"]*\"|'[^']*'|\\/([^/]+)\\//g, '')\n    .replace(globals, '')\n    .match(/[a-zA-Z_]\\w*/g)\n    || [];\n}\n\n/**\n * Return `str` with `props` mapped with `fn`.\n *\n * @param {String} str\n * @param {Array} props\n * @param {Function} fn\n * @return {String}\n * @api private\n */\n\nfunction map(str, props, fn) {\n  var re = /\\.\\w+|\\w+ *\\(|\"[^\"]*\"|'[^']*'|\\/([^/]+)\\/|[a-zA-Z_]\\w*/g;\n  return str.replace(re, function(_){\n    if ('(' == _[_.length - 1]) return fn(_);\n    if (!~props.indexOf(_)) return _;\n    return fn(_);\n  });\n}\n\n/**\n * Return unique array.\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */\n\nfunction unique(arr) {\n  var ret = [];\n\n  for (var i = 0; i < arr.length; i++) {\n    if (~ret.indexOf(arr[i])) continue;\n    ret.push(arr[i]);\n  }\n\n  return ret;\n}\n\n/**\n * Map with prefix `str`.\n */\n\nfunction prefixed(str) {\n  return function(_){\n    return str + _;\n  };\n}\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n","\n/**\n * Module Dependencies\n */\n\nvar expr;\ntry {\n  expr = require('props');\n} catch(e) {\n  expr = require('component-props');\n}\n\n/**\n * Expose `toFunction()`.\n */\n\nmodule.exports = toFunction;\n\n/**\n * Convert `obj` to a `Function`.\n *\n * @param {Mixed} obj\n * @return {Function}\n * @api private\n */\n\nfunction toFunction(obj) {\n  switch ({}.toString.call(obj)) {\n    case '[object Object]':\n      return objectToFunction(obj);\n    case '[object Function]':\n      return obj;\n    case '[object String]':\n      return stringToFunction(obj);\n    case '[object RegExp]':\n      return regexpToFunction(obj);\n    default:\n      return defaultToFunction(obj);\n  }\n}\n\n/**\n * Default to strict equality.\n *\n * @param {Mixed} val\n * @return {Function}\n * @api private\n */\n\nfunction defaultToFunction(val) {\n  return function(obj){\n    return val === obj;\n  };\n}\n\n/**\n * Convert `re` to a function.\n *\n * @param {RegExp} re\n * @return {Function}\n * @api private\n */\n\nfunction regexpToFunction(re) {\n  return function(obj){\n    return re.test(obj);\n  };\n}\n\n/**\n * Convert property `str` to a function.\n *\n * @param {String} str\n * @return {Function}\n * @api private\n */\n\nfunction stringToFunction(str) {\n  // immediate such as \"> 20\"\n  if (/^ *\\W+/.test(str)) return new Function('_', 'return _ ' + str);\n\n  // properties such as \"name.first\" or \"age > 18\" or \"age > 18 && age < 36\"\n  return new Function('_', 'return ' + get(str));\n}\n\n/**\n * Convert `object` to a function.\n *\n * @param {Object} object\n * @return {Function}\n * @api private\n */\n\nfunction objectToFunction(obj) {\n  var match = {};\n  for (var key in obj) {\n    match[key] = typeof obj[key] === 'string'\n      ? defaultToFunction(obj[key])\n      : toFunction(obj[key]);\n  }\n  return function(val){\n    if (typeof val !== 'object') return false;\n    for (var key in match) {\n      if (!(key in val)) return false;\n      if (!match[key](val[key])) return false;\n    }\n    return true;\n  };\n}\n\n/**\n * Built the getter function. Supports getter style functions\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction get(str) {\n  var props = expr(str);\n  if (!props.length) return '_.' + str;\n\n  var val, i, prop;\n  for (i = 0; i < props.length; i++) {\n    prop = props[i];\n    val = '_.' + prop;\n    val = \"('function' == typeof \" + val + \" ? \" + val + \"() : \" + val + \")\";\n\n    // mimic negative lookbehind to avoid problems with nested properties\n    str = stripNested(prop, str, val);\n  }\n\n  return str;\n}\n\n/**\n * Mimic negative lookbehind to avoid problems with nested properties.\n *\n * See: http://blog.stevenlevithan.com/archives/mimic-lookbehind-javascript\n *\n * @param {String} prop\n * @param {String} str\n * @param {String} val\n * @return {String}\n * @api private\n */\n\nfunction stripNested (prop, str, val) {\n  return str.replace(new RegExp('(\\\\.)?' + prop, 'g'), function($0, $1) {\n    return $1 ? $0 : val;\n  });\n}\n","\n/**\n * Module dependencies.\n */\n\nvar toFunction = require('to-function');\n\n/**\n * Group `arr` with callback `fn(val, i)`.\n *\n * @param {Array} arr\n * @param {Function|String} fn or prop\n * @return {Array}\n * @api public\n */\n\nmodule.exports = function(arr, fn){\n  var ret = {};\n  var prop;\n  fn = toFunction(fn);\n\n  for (var i = 0; i < arr.length; ++i) {\n    prop = fn(arr[i], i);\n    ret[prop] = ret[prop] || [];\n    ret[prop].push(arr[i]);\n  }\n\n  return ret;\n};","// http://stackoverflow.com/questions/442404/dynamically-retrieve-the-position-x-y-of-an-html-element\nmodule.exports = function(el) {\n  if (el.getBoundingClientRect) {\n      return el.getBoundingClientRect();\n  }\n  else {\n    var x = 0, y = 0;\n    do {\n        x += el.offsetLeft - el.scrollLeft;\n        y += el.offsetTop - el.scrollTop;\n    } \n    while (el = el.offsetParent);\n\n    return { \"left\": x, \"top\": y }\n  }\n}","import offset from 'offset';\nimport groupBy from 'group-by';\nimport debounce from 'debounce';\n\n// Flatten one level deep arrays\nfunction flatten(arr) {\n  return Array.prototype.concat(...arr);\n}\n\nexport default class EqualHeight {\n\n  constructor({scope = document, debounce = 150, suppressWarnings = false} = {}) {\n    // Set scope where to query elements from\n    this.scope = scope;\n    this.settings = {\n      debounce,\n\n      // Suppresses warnings\n      suppressWarnings,\n    };\n\n    this.warnUser();\n\n    // Detect support\n    this.detectSupport();\n\n    // Run the main logic\n    this.update();\n\n    // Bind events\n    this.bindEvents();\n  }\n\n  warnUser() {\n    if (!this.settings.suppressWarnings && this.settings.debounce === 0) {\n      console.warn(`============================ Important ============================ \n\nEqualheights.js uses getComputedStyle and other expensive properties that causes reflows/repaints. I strongly recommend setting a debounce value to prevent laggy resizing experiences.\n        \nTo disable this warning you can enable the suppress option. new EqualHeights({suppressWarnings: true});`)\n    }\n  }\n\n  detectSupport() {\n    this.IMAGES_LOADED_PLUGIN_ENABLED = typeof imagesLoaded !== 'undefined';\n  }\n\n  update({reset = false} = {}) {\n\n    /**\n     * Reset initial heights before calculating\n     */\n    if (reset) {\n      Array.from(this.scope.querySelectorAll('[data-equal-height]')).forEach(item => {\n        item.style.height = 'auto';\n      })\n    }\n\n    // Create array of rows\n    this.rows = this.getRows();\n\n    // Create array of row items from the same group\n    this.groupedRowItems = this.rows.map(row => {\n\n      /*\n      Check if the row has any grouped items inside.\n      If not, just set the main element to equal heights.\n       */\n      const simpleRow = !row.filter(rowItem => {\n        return (rowItem.element.querySelectorAll('[data-equal-height]').length != 0);\n      }).length > 0;\n\n      if (simpleRow) {\n        return [row.map(rowItem => rowItem.element)];\n      }\n\n      return this.getGroups(row);\n    });\n\n    // Set height after images are loaded in a row\n    if (this.IMAGES_LOADED_PLUGIN_ENABLED) {\n      this.groupedRowItems.forEach(row => {\n        row.forEach(rowItems => {\n          let hasImages = false;\n          rowItems.forEach(item => {\n            if (item.querySelectorAll('img').length != 0) hasImages = true;\n          });\n\n          /*\n            Enable imagesLoaded plugin, so we can check if all images of\n            the same group are loaded before setting the equal height.\n           */\n          this.setHeight(rowItems);\n          imagesLoaded(rowItems).on('done', () => {\n            this.setHeight(rowItems);\n          });\n        });\n      });\n    } else {\n      // Calculate tallest element from each row for the same group\n      this.groupedRowItems.forEach(row => row.forEach.call(this, this.setHeight));\n    }\n  }\n\n  /**\n   * Apply heights on our row items\n   */\n  setHeight(items) {\n    // Reset height, so we can calculate again\n    items.forEach(item => {\n      item.style.height = 'auto';\n    });\n\n    // Get tallest element\n    const maxHeight = Math.max(...items.map(item => {\n      return item.offsetHeight;\n    }));\n\n    // Apply height to all elements in the group, on the same row.\n    items.forEach(item => {\n      if (item.lastElementChild !== null) {\n        const lastChildBottomMargin = parseInt(window.getComputedStyle(item.lastElementChild).marginBottom, 10);\n        const hasCollapsingMargins = this.checkIfCollapsingMargins(item);\n\n        if (hasCollapsingMargins) {\n          // has collapsed margin\n          item.style.height = `${lastChildBottomMargin + maxHeight}px`;\n        } else {\n          item.style.height = `${maxHeight}px`;\n        }\n      } else {\n\n      }\n\n    })\n  }\n\n  checkIfCollapsingMargins(item) {\n    const itemY = offset(item).bottom;\n    const lastChildY = offset(item.lastElementChild).bottom;\n    if (itemY === lastChildY) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Get items from the same group in a row\n   */\n  getGroups(row) {\n    return (\n      [\n        // Remove duplicate groupNames from array\n        ...new Set(\n          // Flatten one level deep arrays into one array.\n          flatten(\n            // Map over all the equalheight elements, so we can fetch all the different groups\n            row.map(rowItem => Array.from(rowItem.element.querySelectorAll('[data-equal-height]')).map(element => {\n              return element.dataset.equalHeight;\n            }))\n          )\n        ),\n      ]\n\n        .map((groupName) => {\n          return row.map(rowItem => {\n            // return an array from all the items in the same group\n            return rowItem.element.querySelector(`[data-equal-height=\"${groupName}\"]`);\n          })\n        })\n    )\n\n    // Strip items that are null to compensate for incorrect markup.\n      .map(row => {\n        return row.filter(items => {\n          return (items !== null);\n        })\n      });\n  }\n\n  /**\n   * Auto detect rows\n   */\n  getRows() {\n    return Object.values(groupBy(\n      Array.from(this.scope.querySelectorAll('.js-equal-height')).map(element => {\n        // Get the top position (this is used to group the elements)\n        return {element: element, top: offset(element).top};\n      }), 'top'));\n  }\n\n  bindEvents() {\n    // Re-apply on document loaded\n    window.onload = () => {\n      this.update({reset: true});\n    };\n\n    // Re-apply on resize\n    window.addEventListener('resize', debounce(() => {\n      this.update({reset: true});\n    }, this.settings.debounce));\n\n  }\n\n}\n"],"sourceRoot":""}